<% if @task.errors.any? %>
  <%= @task.errors.count %>件のエラーが発生しました
  <ul>
    <% @task.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>

<%= form_with model: @task do |f| %>

<table class="tasks" border="1" style="border-collapse: collapse">
  <tr align="center">
    <td>タスク名</td>
    <td>
      <div class="form-group">
        <label for="task_name"></label>
        <%= f.text_field :name %>
      </div>
    </td>
  </tr>
  <tr align="center">
    <td>ステータス</td>
    <td>
      <div class="form-group">
        <label for="task_status"></label>
        <%= f.select :status, Task.statuses_i18n.invert.to_a %>
      </div>
    </td>
  </tr>
  <tr align="center">
    <td>開始</td>
    <td>
      <div class="form-group">
        <label for="task_start"></label>
        <%= f.date_field :start %>
      </div>
    </td>
  </tr>
  <tr align="center">
    <td>期限</td>
    <td>
      <div class="form-group">
        <label for="task_limit"></label>
        <%= f.date_field :limit %>
      </div>
    </td>
  </tr>

  <tr align="center">
    <td>ご褒美</td>
    <td>
      <div class="form-group">
        <label for="task_present"></label>
        <%= f.text_field :present %>
      </div>
    </td>
  </tr>

  <tr align="center">
    <td>メモ</td>
    <td>
      <div class="form-group">
        <label for="task_present"></label>
          <%= f.text_field :note %>
      </div class="form-group">
      <div>
        <%= image_tag @task.get_image(300,300) %>
      </div>
      <%= f.file_field :image, accept: "image/*" %>
    </td>
  </tr>

</table>

<%= f.submit "変更を保存" %>

<%= link_to "削除",task_path(@task.id), method: :delete, "data-confirm" => "削除しますか？" %>

<% end %>